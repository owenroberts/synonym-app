extends layout
block content

	div#error
		div.msg
			div.sorry
			div.errormsg
			div.ok
				div="Ok"

	div.sharemenu
		div.msg
			p="Share SynoMapp:"
			p=data.start + "..." + data.end 
			div.sh.email="Email"
			div.sh.fb="Facebook"
			div.sh.tw="Twitter"
			//- div.sh.copy="Copy link"

	div#newpath
		ul
			li
				img(src='/img/loader.svg')
					
	div#main
		header
			div.menu
				div.home
					a(href="/")
						img(src="/img/arrow_stop.svg")
				div.plus
					img(src="/img/new.svg")
				div.share
					img(src="/img/share.svg")
											

		div.path-dots.slidedown.pathdotcontainer
			div.leftarrow
				svg(class="stroke" width="16"  viewBox="0 0 12 18")
					path(fill="none" stroke="#C5C7C9" stroke-width="1.5" stroke-linecap="round" d="M9.31 1.75L2.06 9.01l7.25 7.26")
			div.rightarrow
				svg(class="stroke" width="16"  viewBox="0 0 12 18")
					path(fill="none" stroke="#C5C7C9" stroke-width="1.5" stroke-linecap="round" d="M3 17.52l7.25-7.26L3 3")
			div.dots
				div.path-dot(id="p-0")

		div#paths
			div.path(id="path-0")
				div.nodes
					each node, index in data.chain
						if index == 0 || index == data.chain.length - 1
							div.node-wrap=node.word
						else 
							- var dad = data.chain[index + (index > (data.chain.length)/2 ? 1 : -1)]
							div.node-wrap
								div.inner-nodes
									if dad.synonyms
										for alt in dad.synonyms
											if alt.word == node.word
												div.node.thenode=alt.word
											else
												div.node.alternate=alt.word
									else
										div.node.thenode=node.word

	script(src="/js/search_helpers.js", type="text/javascript")
	script(type="text/javascript").
		window.data = !{JSON.stringify(data)};
		console.log(data)
	script(src="/js/search.js" type='text/javascript')
	script(src="/js/def.js" type='text/javascript')
	script(src="/js/mod.js" type='text/javascript')
	script(src="/js/new.js" type='text/javascript')